<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>لوحة الإدارة</title>
<style>
body{font-family:Cairo,sans-serif;padding:20px;background:#f5f5f5}
h1{color:#174b74}
form{background:#fff;padding:20px;border-radius:10px;margin-bottom:20px;box-shadow:0 4px 12px rgba(0,0,0,0.1)}
input,button{padding:10px;margin:5px 0;width:100%}
button{background:#174b74;color:#fff;border:0;cursor:pointer}
</style>
</head>
<body>
  <h1>لوحة الإدارة</h1>

  <form id="settingsForm">
    <h2>إعدادات الصفحة الرئيسية</h2>
    <input type="text" id="bgUrl" placeholder="رابط خلفية">
    <input type="text" id="logoUrl" placeholder="رابط اللوغو">
    <input type="text" id="titleText" placeholder="عنوان رئيسي">
    <button type="submit">حفظ الإعدادات</button>
  </form>

  <form id="productForm">
    <h2>إضافة منتج</h2>
    <input type="text" id="pTitle" placeholder="اسم المنتج" required>
    <input type="number" id="pPrice" placeholder="السعر" required>
    <input type="text" id="pImg" placeholder="رابط الصورة" required>
    <label><input type="checkbox" id="pFeatured"> منتج مميز</label>
    <button type="submit">إضافة المنتج</button>
  </form>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyAj8Dp9Rp98knthETTEBMx22KwICPy5x-8",
    authDomain: "super-literiee.firebaseapp.com",
    projectId: "super-literiee",
    storageBucket: "super-literiee.firebasestorage.app",
    messagingSenderId: "829189351259",
    appId: "1:829189351259:web:0426969718d46132c19c7e",
    measurementId: "G-0KBQFEK6KH"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // حفظ الإعدادات
  document.getElementById("settingsForm").addEventListener("submit",e=>{
    e.preventDefault();
    db.collection("settings").doc("hero").set({
      bg: document.getElementById("bgUrl").value,
      logo: document.getElementById("logoUrl").value,
      title: document.getElementById("titleText").value
    }).then(()=>alert("تم حفظ الإعدادات ✅"));
  });

  // إضافة منتج
  document.getElementById("productForm").addEventListener("submit",e=>{
    e.preventDefault();
    db.collection("products").add({
      title: document.getElementById("pTitle").value,
      price: parseInt(document.getElementById("pPrice").value),
      img: document.getElementById("pImg").value,
      featured: document.getElementById("pFeatured").checked
    }).then(()=>alert("تمت إضافة المنتج ✅"));
  });
</script>
</body>
</html>